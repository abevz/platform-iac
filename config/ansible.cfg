[defaults]
# 1. УБРАНО: 'inventory'. (Критически важно!)
#    'iac-wrapper.sh' теперь передает инвентарь через флаг '-i'.
#
# 2. УБРАНО: 'vault_password_file'.
#    Мы используем 'community.sops' для секретов, а не Ansible Vault.

# 3. ИЗМЕНЕНО: 'roles_path'.
#    Путь теперь относительный к этому файлу (config/ansible.cfg)
roles_path = ./roles

# 4. СОХРАНЕНО: Ваш 'remote_user'.
#    (Хотя 'iac-wrapper.sh' часто переопределяет это в инвентаре, 
#    'abevz' - хороший дефолт).
remote_user = abevz

# 5. СОХРАНЕНО: 'host_key_checking = False'.
#    Идеально для homelab, где VM часто пересоздаются.
host_key_checking = False

# 6. УБРАНО: 'private_key_file'.
#    'iac-wrapper.sh' передает ключ через флаг '--private-key'.
#    Это делает скрипт единой точкой истины для аутентификации.

# Улучшения качества жизни
retry_files_enabled = False  # Отключает создание *.retry файлов
display_skipped_hosts = False # Делает вывод чище
deprecation_warnings = False   # Скрывает предупреждения об устаревании модулей

[privilege_escalation]
# 7. СОХРАНЕНО: Эта секция идеальна.
become = True
become_method = sudo
become_user = root
become_ask_pass = False

[ssh_connection]
# Ускоряет SSH-соединения
pipelining = True
