# platform-iac .gitignore (Final)

# --- OpenTofu / Terraform ---
# Ignore local state files
*.tfstate
*.tfstate.backup

# Ignore tfvars with personal data (use .tfvars.example as template)
*.tfvars
!*.tfvars.example

# Ignore provider plugins and cache
.terraform/
.terraform.lock.hcl

# --- EXECUTION CACHE AND ARTIFACTS ---
# Cache directory used by iac-wrapper.sh
.cache/

# --- Ansible ---
# Ignore Python virtual environment
.venv/

# Ignore local inventory (use static.ini.example as template)
config/inventory/static.ini

# Ignore Ansible retry files
*.retry

# Ignore Ansible inventory cache
.ansible_inventory_cache.json
# Temporary JSON inventory if not cleaned up
iac_inventory_*.json

# Ignore temporary inventories from iac-wrapper.sh (legacy .ini)
iac_inventory_*.ini

# Ignore temporary SOPS files created by wrapper (CRITICAL!)
/tmp/iac_vars_*.json
/tmp/iac_tfvars_*.json

# --- Kubernetes / Kubeadm ---
# Cached kubeadm join command file (fetch)
/tmp/kubeadm_join_command.sh

# --- SOPS Secrets ---
# IMPORTANT: Git stores ONLY example files (*.sops.yml.example)
# Real encrypted secrets (*.sops.yml) are local-only and ignored
# Copy *.sops.yml.example to *.sops.yml and fill with your values
config/secrets/*/*.sops.yml
config/secrets/*/*.sops.yaml
# Allow only example files in git
!config/secrets/*/*.sops.yml.example
!config/secrets/*/*.sops.yaml.example
# Legacy decrypted file
config/secrets/certbot/dns-multi.ini

# --- General ---
# Editor temp files and backups
*.bak
*.tmp
*.temp
*.swp
*~

# Temp directory
tmp/
keys/
config/platform.conf

# --- Ansible Group Vars ---
# Local group_vars with real values (use .example as template)
config/group_vars/k8s_master.yml

# --- Playground ---
# Local experimentation directory - not for production use
playground/
